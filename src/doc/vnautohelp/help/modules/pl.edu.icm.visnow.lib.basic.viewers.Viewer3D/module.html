<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
    <title>Module - Viewer 3D</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <style type="text/css">
        ol{margin:0;padding:0}.c3{vertical-align:top;width:234pt;border-style:solid;border-color:#000000;border-width:1pt;padding:5pt 5pt 5pt 5pt}.c9{list-style-type:decimal;margin:0;padding:0}.c12{color:#666666;font-size:12pt;font-family:"Trebuchet MS"}.c16{list-style-type:disc;margin:0;padding:0}.c1{padding-top:14pt;direction:ltr;padding-bottom:4pt}.c4{padding-left:0pt;direction:ltr;margin-left:108pt}.c21{max-width:468pt;background-color:#ffffff;padding:72pt 72pt 72pt 72pt}.c22{list-style-type:lower-roman;margin:0;padding:0}.c20{list-style-type:lower-latin;margin:0;padding:0}.c18{color:#666666;font-size:12pt}.c7{padding-left:0pt;margin-left:36pt}.c13{padding-left:0pt;margin-left:72pt}.c2{line-height:1.0;direction:ltr}.c6{padding-top:18pt;padding-bottom:4pt}.c24{color:inherit;text-decoration:inherit}.c23{color:#666666;font-size:19pt}.c17{margin-left:36pt}.c11{border-collapse:collapse}.c0{font-style:italic}.c19{color:#1155cc}.c15{height:13pt}.c5{direction:ltr}.c25{height:12pt}.c10{font-weight:bold}.c8{text-decoration:underline}.c14{height:11pt}.title{padding-top:0pt;line-height:1.15;text-align:left;color:#000000;font-size:21pt;font-family:"Trebuchet MS";padding-bottom:0pt}.subtitle{padding-top:0pt;line-height:1.15;text-align:left;color:#666666;font-style:italic;font-size:13pt;font-family:"Trebuchet MS";padding-bottom:10pt}li{color:#000000;font-size:11pt;font-family:"Arial"}p{color:#000000;font-size:11pt;margin:0;font-family:"Arial"}h1{padding-top:10pt;line-height:1.15;text-align:left;color:#000000;font-size:16pt;font-family:"Trebuchet MS";padding-bottom:0pt}h2{padding-top:10pt;line-height:1.15;text-align:left;color:#000000;font-size:13pt;font-family:"Trebuchet MS";font-weight:bold;padding-bottom:0pt}h3{padding-top:8pt;line-height:1.15;text-align:left;color:#666666;font-size:12pt;font-family:"Trebuchet MS";font-weight:bold;padding-bottom:0pt}h4{padding-top:8pt;line-height:1.15;text-align:left;color:#666666;font-size:11pt;text-decoration:underline;font-family:"Trebuchet MS";padding-bottom:0pt}h5{padding-top:8pt;line-height:1.15;text-align:left;color:#666666;font-size:11pt;font-family:"Trebuchet MS";padding-bottom:0pt}h6{padding-top:8pt;line-height:1.15;text-align:left;color:#666666;font-style:italic;font-size:11pt;font-family:"Trebuchet MS";padding-bottom:0pt}        
    </style>
  </head>
  <body>
      <table width="100%" border="0">
          <tr>
              <td align="left">
                  <img src="../../common/images/horizontal.png" width="200" height="64"/>
              </td>
              <td align="right">
                  <img src="../../common/images/icm_logo.png" width="120" height="64"/>
              </td>
          </tr>
      </table>
      
      <h1>Module: Viewer 3D</h1>
      <p><img src="resources/module_image_pl.edu.icm.visnow.lib.basic.viewers.Viewer3D.png"/><br></p>
      <p>basic viewer for 3D objects<br><br></p>
      <table border="1">          
      <tr bgcolor="silver">
         <th width=150 height="40">input port</th>
         <th width=150>type</th>
         <th width=500>description</th>
         <th width=300>data acceptors</th>
      </tr>
<tr>
         <td valign="top">inObject</td>
         <td valign="top"><font color="#ee0000">VNGeometryObject</font></td>
         <td valign="top"></td>
         <td valign="top"></td>
      </tr>
<tr bgcolor="silver">
         <th height="40">output port</th>
         <th>type</th>
         <th>description</th>
         <th>data schemas</th>
      </tr>
</table>
      <br><br><br>
      <hr><p class="c5"><span class="c10">VIEWER 3D</span><hr></p><h3 class="c1"><span>Viewer 3D is a basic and most important graphics window for VisNow software. Its main function is to serve as an interactive presentation window for the output of visualization process. As an input it accepts VNGeometryObject (red ports) containint 3D, 2D or 1D geometry.</span></h3><p class="c5 c14"><span></span></p><p class="c5"><span>User can interact withe a presented three dimensional scene, manipulate light settings, cut scene bounds, animate the scene or write output graphics as an image or compile a movie from image sequence (third-party software required - ffmpeg, see </span><span class="c8 c19"><a class="c24" href="http://www.ffmpeg.org">www.ffmpeg.org</a></span><span>&nbsp;for details).</span></p><p class="c5 c14"><span></span></p><hr><h2 class="c6 c5"><span>VIEWER 3D MOUSE AND KEYBOARD CONTROLS</span><hr></h2><h3 class="c1"><span>Mouse:</span></h3><p class="c5 c14"><span class="c18 c10"></span></p><a href="#" name="3717ef1395479adc8ddd68bcf6e6753e62fccd2a"></a><a href="#" name="0"></a><table cellpadding="0" cellspacing="0" class="c11"><tbody><tr><td class="c3"><p class="c2"><span>left mouse button click</span></p></td><td class="c3"><p class="c5"><span>if pick 3D active initiates 3d pick sequence</span></p><p class="c5"><span>else &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;picks object</span></p></td></tr><tr><td class="c3"><p class="c2"><span>left mouse button double click</span></p></td><td class="c3"><p class="c2"><span>reset 3D scene to standard position and scale</span></p></td></tr><tr><td class="c3"><p class="c2"><span>middle mouse button (wheel) click</span></p></td><td class="c3"><p class="c5"><span>reset 3D world to standard position and scale</span></p></td></tr><tr><td class="c3"><p class="c2"><span>right button button click</span></p></td><td class="c3"><p class="c2"><span>pops up viewer 3D controls at current mouse position</span></p></td></tr><tr><td class="c3"><p class="c2"><span>left mouse drag</span></p></td><td class="c3"><p class="c2"><span>rotates currently selected object (scene, camera or directional light)</span></p></td></tr><tr><td class="c3"><p class="c2"><span>middle mouse drag</span></p></td><td class="c3"><p class="c2"><span>translates currently selected object (scene, camera or point light) front &lt;-&gt; back</span></p></td></tr><tr><td class="c3"><p class="c2"><span>right mouse drag</span></p></td><td class="c3"><p class="c2"><span>translates currently selected object (scene, camera or point light) in the screen plane</span></p></td></tr><tr><td class="c3"><p class="c2"><span>mouse wheel</span></p></td><td class="c3"><p class="c2"><span>scales scene</span></p></td></tr></tbody></table><p class="c5 c14"><span class="c12 c10"></span></p><h3 class="c1"><span>Keyboard:</span></h3><p class="c5 c14"><span class="c10 c18"></span></p><a href="#" name="ddf1b3645ad66f616163b8954a8dc7f2182bc89d"></a><a href="#" name="1"></a><table cellpadding="0" cellspacing="0" class="c11"><tbody><tr><td class="c3"><p class="c2"><span>&lt;cursor keys&gt;</span></p><p class="c2"><span>&lt;shift-cursor&gt;</span></p><p class="c2"><span>&lt;ctrl-cursor&gt;</span></p></td><td class="c3"><p class="c2"><span>rotate scene in 1 deg increments</span></p><p class="c2"><span>rotate scene in 30 deg increments</span></p><p class="c2"><span>rotate scene in 90 deg increments</span></p></td></tr><tr><td class="c3"><p class="c2"><span>&lt;pg up/down&gt;</span></p><p class="c2"><span>&lt;shift-pg up/down&gt;</span></p><p class="c2"><span>&lt;ctrl-pg up/down&gt;</span></p></td><td class="c3"><p class="c2"><span>rotate scene around z-axis in 1 deg increments</span></p><p class="c2"><span>rotate scene around z-axis in 30 deg increments</span></p><p class="c2"><span>rotate scene around z-axis in 90 deg increments</span></p></td></tr><tr><td class="c3"><p class="c2"><span>&lt;space&gt;</span></p></td><td class="c3"><p class="c2"><span>pops up viewer 3D controls in the top left position on the screen</span></p></td></tr><tr><td class="c3"><p class="c2"><span>&lt;backspace&gt;</span></p></td><td class="c3"><p class="c2"><span>reset 3D world to standard position and scale</span></p></td></tr><tr><td class="c3"><p class="c2"><span>p</span></p></td><td class="c3"><p class="c2"><span>turns perspective off/on</span></p></td></tr><tr><td class="c3"><p class="c2"><span>c</span></p></td><td class="c3"><p class="c2"><span>subsequent mouse dragging will move camera</span></p></td></tr><tr><td class="c3"><p class="c2"><span>o</span></p></td><td class="c3"><p class="c2"><span>subsequent mouse dragging will move scene objects</span></p></td></tr><tr><td class="c3"><p class="c2"><span>s</span></p></td><td class="c3"><p class="c2"><span>if stereo mode is available, toggles stereo on/off</span></p></td></tr><tr><td class="c3"><p class="c2"><span>.(dot)</span></p></td><td class="c3"><p class="c5"><span>toggles on/off 3d picking feature</span></p><p class="c5 c14"><span></span></p></td></tr></tbody></table><p class="c5 c14"><span class="c12 c10"></span></p><h3 class="c1 c25"><span></span></h3><hr><h3 class="c1"><a name="h.bynw3lbxih25"></a><span>3D PICK (CLICK-DRAG-CLIK)</span></h3><p class="c5"><span>when enabled:</span></p><ol class="c16" start="1"><li class="c7 c5"><span>left mouse button click displays small light blue diamond showing selected pixel;</span></li><li class="c7 c5"><span>subsequent rotation (left mouse drag) shows the ray passing initially through selected pixel as a light blue line;</span></li><li class="c7 c5"><span>second left mouse button click positions the picking point at the displayed ray at the click location;</span></li></ol><p class="c5"><span>selection glyph (light green diamond) is positioned at the picked point and the scene returns to the original position</span></p><p class="c5 c14"><span></span></p><p class="c5 c14"><span></span></p><hr><h2 class="c6 c5 c15"><span class="c23"></span></h2><p class="c5"><span class="c10">VIEWER 3D &nbsp;CONTROLS WINDOW</span></p><hr><p class="c5 c14"><span class="c12 c10"></span></p><h2 class="c6 c5"><span>Viewer3D controls window is a main place for manipulating Viewer3D and scene settings. Divided in several tabs the following options are available:</span></h2><ol class="c16" start="1"><li class="c7 c5"><span>mouse settings</span></li><li class="c7 c5"><span>camera settings</span></li><li class="c5 c7"><span>background settings</span></li><li class="c7 c5"><span>stereo vision</span></li><li class="c7 c5"><span>light settings</span></li><li class="c7 c5"><span>scene clipping</span></li><li class="c7 c5"><span>scene animation</span></li><li class="c7 c5"><span>graphics output</span></li></ol><p class="c5 c14"><span></span></p><hr><h2 class="c6 c5"><span>GENERAL TAB</span></h2><a href="#" name="65f37815205ebc650d031053a80f64589683c1d0"></a><a href="#" name="2"></a><table cellpadding="0" cellspacing="0" class="c11"><tbody><tr><td class="c3"><p class="c5"><img height="500" src="resources/images/image03.png" width="240"></p></td><td class="c3"><ol class="c9" start="1"><li class="c7 c5"><span>mouse settings<br> These three sliders allow you to adjust mouse sensitivity.</span></li></ol><ol class="c20" start="1"><li class="c5 c13"><span class="c0">mouse rotation sensitivity </span><span>- adjusts mouse rotation sensitivity</span></li><li class="c13 c5"><span class="c0">mouse translation sensitivity</span><span>&nbsp;- adjusts mouse translation sensitivity</span></li><li class="c13 c5"><span class="c0">mouse wheel sensitivity</span><span>&nbsp;- adjusts mouse wheel sensitivity</span></li></ol><ol class="c9" start="2"><li class="c7 c5"><span>camera settings</span></li></ol><ol class="c20" start="1"><li class="c13 c5"><span class="c0">move camera</span></li></ol><ol class="c9" start="3"><li class="c7 c5"><span class="c0">background</span><span>&nbsp;settings<br>This radio list allows you to set background as one of the following three types:</span></li></ol><ol class="c20" start="1"><li class="c13 c5"><span class="c0">color</span><span>&nbsp;- monochromatic background color chosen with a </span><span class="c0 c8">color widget</span></li><li class="c13 c5"><span class="c0">grad</span><span>&nbsp;- gradient between two colors chosen with a </span><span class="c0 c8">color widget</span></li><li class="c13 c5"><span class="c0">image</span><span>&nbsp;- allows you to chose any image file as a background</span></li></ol><ol class="c9" start="4"><li class="c7 c5"><span class="c0">reset</span><span>&nbsp;- resets the camera</span></li><li class="c7 c5"><span class="c0">perspective</span><span>&nbsp;- toggles perspective/ortho view</span></li><li class="c7 c5"><span class="c0">stereo</span><span>&nbsp;- toggles stereo view (if applicable)</span></li><li class="c7 c5"><span>orientation glyph settings<br>These two widgets allow you to modify </span><span class="c0">the orientation glyph</span><span>, which is present on the bottom left of the Viewer3D window.</span></li></ol><ol class="c20" start="1"><li class="c13 c5"><span>orientation glyph size</span></li><li class="c13 c5"><span>orientation glyph type combo box</span></li></ol><ol class="c22" start="1"><li class="c4"><span>Axes</span></li><li class="c4"><span>Medical</span></li></ol><ol class="c9" start="8"><li class="c7 c5"><span>pick 3d active<br>Pressing this button enters </span><span class="c0 c8">3d picking</span><span>&nbsp;mode.</span></li><li class="c7 c5"><span>camera settings, c.d.<br>This three sliders are remaining camera settings:</span></li></ol><ol class="c20" start="3"><li class="c13 c5"><span>field of view</span></li><li class="c13 c5"><span>clip range - </span><span class="c8">double slider</span></li><li class="c13 c5"><span>depth cue range</span></li></ol></td></tr></tbody></table><p class="c5 c14"><span class="c12 c10"></span></p><hr><h2 class="c6 c5"><span>LIGHTS TAB<br></span></h2><a href="#" name="18d8c7806d78fca2f3538c781f9503e15c35a6b2"></a><a href="#" name="3"></a><table cellpadding="0" cellspacing="0" class="c11"><tbody><tr><td class="c3"><p class="c5"><img height="500" src="resources/images/image04.png" width="240"></p></td><td class="c3"><ol class="c9" start="1"><li class="c7 c5"><span class="c0">ambient light<br></span><span>This slider allows to change color and intensity of ambient light. The buton turns it on/off.</span></li><li class="c7 c5"><span class="c0">directional lights<br></span><span>This group allows to control up to four directional lights.<br><br>Pressing </span><span class="c0">direction</span><span>&nbsp;button allows you to change the direction of the light by dragging with left button in the Viewer3D window. (please note that the in Viewer3D&rsquo;s menu the message &ldquo;transforming light&rdquo; appears)<br><br>Color and intensity are set with a </span><span class="c0 c8">color widget</span><span>.<br><br>The next button is a light type:</span></li></ol><ol class="c20" start="1"><li class="c13 c5"><span>bi-directional light</span></li><li class="c13 c5"><span>no light</span></li><li class="c13 c5"><span>one-directional light</span></li></ol><p class="c5 c17"><span><br>The last button is a reset button.</span></p><ol class="c9" start="1"><li class="c7 c5"><span class="c0">point lights<br></span><span>This group allows to control up to three point lights.<br><br>Pressing </span><span class="c0">position</span><span>&nbsp;button allows you to change the direction of the light by dragging with left button in the Viewer3D window. (please note that the in Viewer3D&rsquo;s menu the message &ldquo;transforming light&rdquo; appears)<br><br>Color and intensity are set with a </span><span class="c8">color widget</span><span>.<br><br>The next button turns light on/off.<br><br>The last button is a reset button.</span></li></ol></td></tr></tbody></table><p class="c5 c14"><span class="c12 c10"></span></p><hr><h2 class="c6 c5"><span>CLIP TAB</span></h2><p class="c5 c14"><span class="c10"></span></p><a href="#" name="476fcc609ca3f3cea7849d64ea8da12c6c699703"></a><a href="#" name="4"></a><table cellpadding="0" cellspacing="0" class="c11"><tbody><tr><td class="c3"><p class="c5"><img height="500" src="resources/images/image00.png" width="240"></p></td><td class="c3"><p class="c2"><span>This tab allows to clip a 3d scene in object space with up to three clipping planes.<br>These planes are defined by equation: Ax+By+Cz=0 (or equivalently, they are parallel to vector [A,B,C]).</span></p><p class="c2"><span>By default, planes YZ, XZ and XY are used.</span></p><p class="c5 c14"><span></span></p><p class="c2"><span>On the right, there is a button to turn this clipping plance on/off.</span></p><p class="c5 c14"><span></span></p><p class="c2"><span>Clip extent is controlled with a </span><span class="c8">double slider</span><span>&nbsp;below.</span></p></td></tr></tbody></table><hr><h2 class="c6 c5"><span>ANIMATE TAB</span></h2><p class="c5 c14"><span class="c10"></span></p><a href="#" name="7bf4b0f8c2f8a6e11622134cb42f8a5bd72321ed"></a><a href="#" name="5"></a><table cellpadding="0" cellspacing="0" class="c11"><tbody><tr><td class="c3"><p class="c5"><img height="500" src="resources/images/image02.png" width="240"></p></td><td class="c3"><ol class="c9" start="1"><li class="c7 c5"><span class="c0">xy rotation<br></span><span>This widget allows you to set a rotation vector in the XY-plane.</span></li><li class="c7 c5"><span class="c0">xy translation<br></span><span>This widget allows you to set a translation vector in the XY-plane.</span></li><li class="c7 c5"><span class="c0">z rotation<br></span><span>This slider allows you to set an angular velocity of rotation along the Z-axis.<br>The button on the right resets this slider.</span></li><li class="c7 c5"><span class="c0">z translation<br></span><span>This slider allows you to set velocity of translation along the Z-axis.<br>The button on the right resets this slider.</span></li><li class="c7 c5"><span class="c0">scale<br></span><span>This slider allows you to set scaling velocity.<br>The button on the right resets this slider.</span></li><li class="c7 c5"><span class="c0">reset all sliders<br></span><span>This button resets all the sliders.</span></li><li class="c7 c5"><span class="c0 c10">animate<br></span><span>This button turns animation on/off.</span></li></ol><p class="c5 c14"><span></span></p></td></tr></tbody></table><hr><h2 class="c5 c6"><a name="h.le7s8wuh7mym"></a><span>OUTPUT TAB<br></span></h2><a href="#" name="9dbfd4ed3be57cd3d64eb111358762890f84637f"></a><a href="#" name="6"></a><table cellpadding="0" cellspacing="0" class="c11"><tbody><tr><td class="c3"><p class="c5"><img height="500" src="resources/images/image01.png" width="240"></p></td><td class="c3"><ol class="c9" start="1"><li class="c7 c5"><span class="c0">Output image file </span><span>settings<br>This group allows storing single image snapshots.</span></li></ol><ol class="c20" start="1"><li class="c13 c5"><span>output size settings<br>These three controls set output file resolution.</span></li></ol><ol class="c22" start="1"><li class="c4"><span class="c0">use window size</span><span>&nbsp;button</span></li><li class="c4"><span class="c0">width</span><span>&nbsp;textbox</span></li><li class="c4"><span class="c0">height </span><span>textbox</span></li></ol><ol class="c20" start="2"><li class="c13 c5"><span class="c0">write jpeg<br></span><span>Saves output file as JPG.</span></li><li class="c13 c5"><span class="c0">write png<br></span><span>Saves output file as PNG.</span></li></ol><ol class="c9" start="2"><li class="c7 c5"><span class="c0">Movie creation controls<br></span><span>This group allows storing collection of frames and converting these frames to a movie.</span></li></ol><ol class="c20" start="1"><li class="c13 c5"><span class="c0">work directory<br></span><span>Sets output directory for frames.</span></li><li class="c13 c5"><span class="c0">clear tmp files<br></span><span>Deletes created frames.</span></li><li class="c13 c5"><span class="c0">movie resolution<br></span><span>This combobox allows you to choose a preset resolution. Also you can set resolution munually with textboxes:</span></li></ol><ol class="c22" start="1"><li class="c4"><span class="c0">width</span></li><li class="c4"><span class="c0">height</span></li></ol><ol class="c20" start="4"><li class="c13 c5"><span>frames format<br> This radio list allows to change output frames file format:</span></li></ol><ol class="c22" start="1"><li class="c4"><span class="c0">jpeg</span></li><li class="c4"><span class="c0">YUV</span></li></ol><ol class="c20" start="5"><li class="c13 c5"><span class="c0">store frames<br></span><span>This button turns storing frames on/off.</span></li><li class="c13 c5"><span class="c0">clear frames<br></span><span>This button resets current frame counter.</span></li><li class="c13 c5"><span class="c0">current frame<br></span><span>This textbox shows current frame counter.</span></li><li class="c13 c5"><span class="c0">movie file<br></span><span>This textbox sets output movie name.</span></li><li class="c13 c5"><span class="c0">size (MB)</span></li><li class="c13 c5"><span class="c0">compile movie<br></span><span>This button starts movie compilation.</span></li></ol></td></tr></tbody></table><p class="c5 c14"><span class="c12 c10"></span></p><h3 class="c1 c25"><span class="c10"></span></h3>
  </body>
</html>